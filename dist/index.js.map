{"version":3,"sources":["../src/index.js"],"names":["aws","require","query","scan","dynam","opts","profile","credentials","SharedIniFileCredentials","config","db","DynamoDB","accessKeyId","process","env","AWS_ACCESS_KEY_ID","secretAccessKey","AWS_SECRET_ACCESS_KEY","region","describeLimits","err","Error","e","module","exports"],"mappings":";;AAAA,MAAMA,MAAMC,QAAQ,SAAR,CAAZ;AACA,MAAMC,QAAQD,QAAQ,SAAR,CAAd;AACA,MAAME,OAAOF,QAAQ,QAAR,CAAb;;AAEA,SAASG,KAAT,CAAeC,IAAf,EAAqB;AACnB,MAAI;AACF,QAAIA,KAAKC,OAAT,EAAkB;AAChB,YAAMC,cAAc,IAAIP,IAAIQ,wBAAR,CAAiC;AACnDF,iBAASD,KAAKC;AADqC,OAAjC,CAApB;AAGAN,UAAIS,MAAJ,CAAWF,WAAX,GAAyBA,WAAzB;AACD;AACD;;;AAGA,SAAKG,EAAL,GAAU,IAAIV,IAAIW,QAAR,CAAiB;AACzBC,mBAAaP,KAAKO,WAAL,IAAoBC,QAAQC,GAAR,CAAYC,iBADpB;AAEzBC,uBAAiBX,KAAKW,eAAL,IAAwBH,QAAQC,GAAR,CAAYG,qBAF5B;AAGzBC,cAAQb,KAAKa,MAAL,IAAe;AAHE,KAAjB,CAAV;AAKA,SAAKR,EAAL,CAAQS,cAAR,CAAuB,EAAvB,EAA4BC,GAAD,IAAS;AAClC,UAAIA,GAAJ,EAAS;AACP,cAAM,IAAIC,KAAJ,CAAUD,GAAV,CAAN;AACD;AACF,KAJD;AAKD,GApBD,CAoBE,OAAOE,CAAP,EAAU;AACV,UAAM,IAAID,KAAJ,CAAUC,CAAV,CAAN;AACD;AACD,OAAKpB,KAAL,GAAaA,KAAb;AACA,OAAKC,IAAL,GAAYA,IAAZ;AACA,SAAO,IAAP;AACD;;AAEDoB,OAAOC,OAAP,GAAiBpB,KAAjB","file":"index.js","sourcesContent":["const aws = require('aws-sdk');\nconst query = require('./query');\nconst scan = require('./scan');\n\nfunction dynam(opts) {\n  try {\n    if (opts.profile) {\n      const credentials = new aws.SharedIniFileCredentials({\n        profile: opts.profile,\n      });\n      aws.config.credentials = credentials;\n    }\n    /**\n     * This is the DynamoDB Service holder.\n     */\n    this.db = new aws.DynamoDB({\n      accessKeyId: opts.accessKeyId || process.env.AWS_ACCESS_KEY_ID,\n      secretAccessKey: opts.secretAccessKey || process.env.AWS_SECRET_ACCESS_KEY,\n      region: opts.region || 'us-east-1',\n    });\n    this.db.describeLimits({}, (err) => {\n      if (err) {\n        throw new Error(err);\n      }\n    });\n  } catch (e) {\n    throw new Error(e);\n  }\n  this.query = query;\n  this.scan = scan;\n  return this;\n}\n\nmodule.exports = dynam;\n"]}